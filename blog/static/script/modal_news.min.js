document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("close-news"),t=document.getElementById("close-bp"),n=document.getElementById("modal-news"),d=document.getElementById("modal-bp"),o=document.getElementById("submit_email"),s=document.getElementById("email_newsletter"),l=document.getElementById("error_newsletter"),i=document.getElementById("plu"),a=document.getElementById("expired"),c=document.getElementById("reasons");e&&e.addEventListener("click",function(){n.remove(),document.cookie="news_modal=true;path=/"}),t&&t.addEventListener("click",function(){d.classList.toggle("hidden")}),o&&o.addEventListener("click",function(){event.preventDefault();var e=new FormData;e.append("email",s.value),console.log("email_newsletter.value",s.value);var t=new XMLHttpRequest;t.open("POST","/newsletter",!0),t.onload=function(){var e=JSON.parse(t.responseText);if(200===t.status){n.remove();var d=new Date;d.setDate(d.getDate()+30);var o=d.toUTCString();document.cookie="news_modal=true; expires="+o+"; path=/"}else l.innerText=e.status,console.log("Request failed.  Returned status of "+t.status+e)},t.send(e)}),i&&i.addEventListener("click",function(){d.classList.toggle("hidden")}),a&&a.addEventListener("click",function(){d.classList.toggle("hidden")}),c&&c.addEventListener("click",function(){d.classList.toggle("hidden")}),n.classList.contains("hidden")&&window.addEventListener("scroll",function(e){var t=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight),d=Math.round(100*t);d>50&&n.classList.remove("hidden")})});